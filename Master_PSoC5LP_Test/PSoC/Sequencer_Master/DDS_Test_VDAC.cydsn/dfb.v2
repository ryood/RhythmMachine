
initialize:
    acu(setmod,setmod) dmux(sa,sa) alu(set0) mac(clra)
    acu(clear,clear) dmux(sa,sa) alu(hold) mac(hold) jmp(eob, WaitForNew)

WaitForNew:
    acu(hold,hold) dmux(sa,sa) alu(hold) mac(hold) jmpl(in1, PROGRAM)


ChA_init:
    acu(loadm, loadm) addr(ChA_MAX) dmux(sa,sa) alu(hold) mac(hold)
    acu(loadl, loadl) addr(ChA_MIN) dmux(sa,sa) alu(hold) mac(hold) 
    acu(hold, hold) addr(1) dmux(ba,sa) alu(hold) mac(hold) 
    acu(read, clear) addr(ChA_START) dmux(sra,sra) alu(setb) mac(clra) write(da) jmp(eob,ChA_fir)

ChA_firFinish:
    acu(write, clear) addr(ChA_START) dmux(sa, srm) alu(setb) mac(hold)
    acu(hold, hold) dmux(sa, sa) alu(hold) mac(hold)
    acu(hold, hold) addr(1) dmux(sa, sa) alu(hold) mac(hold) write(bus) jmp(eob, ChA_EXIT)

ChA_fir:
    acu(incr,incr) dmux(sra,srm) alu(setb) mac(macc) jmpl(eob,acubeq, ChA_firFinish)


area acu
    ChA_MAX: dw  ChA_LAST,ChA_LAST
    ChA_MIN: dw  ChA_FIRST, ChA_FIRST
    ChA_START: dw ChA_FIRST, ChA_FIRST


area data_b
ChA_FIRST:dw 345
dw 420
dw 562
dw 770
dw 1040
dw 1364
dw 1726
dw 2100
dw 2454
dw 2743
dw 2910
dw 2886
dw 2589
dw 1924
dw 784
dw 16776270
dw 16773826
dw 16770544
dw 16766299
dw 16760972
dw 16754457
dw 16746665
dw 16737530
dw 16727016
dw 16715119
dw 16701875
dw 16687360
dw 16671692
dw 16655033
dw 16637587
dw 16619596
dw 16601337
dw 16583114
dw 16565252
dw 16548085
dw 16531953
dw 16517184
dw 16504090
dw 16492954
dw 16484021
dw 16477491
dw 16473512
dw 8083560
dw 16473512
dw 16477491
dw 16484021
dw 16492954
dw 16504090
dw 16517184
dw 16531953
dw 16548085
dw 16565252
dw 16583114
dw 16601337
dw 16619596
dw 16637587
dw 16655033
dw 16671692
dw 16687360
dw 16701875
dw 16715119
dw 16727016
dw 16737530
dw 16746665
dw 16754457
dw 16760972
dw 16766299
dw 16770544
dw 16773826
dw 16776270
dw 784
dw 1924
dw 2589
dw 2886
dw 2910
dw 2743
dw 2454
dw 2100
dw 1726
dw 1364
dw 1040
dw 770
dw 562
dw 420
ChA_LAST: dw 345



PROGRAM = ChA_init
ChA_EXIT = WaitForNew


